(function(a){a.fn.ata=function(b){b=a.extend({timer:100},b);return this.each(function(f){var e=a(this),l=this;l.style.resize="none";l.style.overflow="hidden";var m=l.value;l.style.height="0px";l.value="W\nW\nW";var j=l.scrollHeight;l.value="W\nW\nW\nW";var h=l.scrollHeight;var k=h-j;l.value=m;m=null;e.before('<div id="ataa_'+f+'"></div>');var d=a("#ataa_"+f),g=d.get(0);g.style.padding="0px";g.style.margin="0px";e.appendTo(d);e.bind("focus",function(){l.startUpdating()}).bind("blur",function(){l.stopUpdating()});this.heightUpdate=function(){if(m!=l.value){m=l.value;l.style.height="0px";var c=l.scrollHeight+k;l.style.height=c+"px";g.style.height="auto";g.style.height=g.offsetHeight+"px"}};this.startUpdating=function(){l.interval=window.setInterval(function(){l.heightUpdate()},b.timer)};this.stopUpdating=function(){clearInterval(l.interval)};a(function(){l.heightUpdate()})})}})(jQuery);