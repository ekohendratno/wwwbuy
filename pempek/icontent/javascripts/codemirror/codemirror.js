var CodeMirror=(function(){function n(Z,a8){var bi={},a3=n.defaults;for(var bx in a3){if(a3.hasOwnProperty(bx)){bi[bx]=(a8&&a8.hasOwnProperty(bx)?a8:a3)[bx]}}var bM=bi.document;var bv=bM.createElement("div");bv.className="CodeMirror";bv.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+bi.theme+'"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';if(Z.appendChild){Z.appendChild(bv)}else{Z(bv)}var b2=bv.firstChild,bZ=b2.firstChild,aK=bv.lastChild,aL=aK.firstChild,aD=aL.firstChild,br=aD.nextSibling,aV=br.firstChild,bX=aV.firstChild,aO=aV.nextSibling.firstChild,aj=aO.firstChild,an=aj.nextSibling;if(bi.tabindex!=null){bZ.tabindex=bi.tabindex}if(!bi.gutter&&!bi.lineNumbers){aV.style.display="none"}var aN=new q(),ax=new q(),am;var bk,bT=[new c("")],bc,a9=new g(),i;bt();var aX={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var bb,bD,al;var bp,bR,aQ,at,bP;var bm=0,bB=0,bI=0,aU=null;var ab,bH;var aP="",aa;bU(function(){ap(bi.value||"");bp=false})();l(aK,"mousedown",bU(ay));if(!B){l(aK,"contextmenu",av)}l(aL,"dblclick",bU(bl));l(aK,"scroll",function(){ak([]);if(bi.onScroll){bi.onScroll(bQ)}});l(window,"resize",function(){ak(true)});l(bZ,"keyup",bU(bq));l(bZ,"keydown",bU(aB));l(bZ,"keypress",bU(bf));l(bZ,"focus",aJ);l(bZ,"blur",aH);l(aK,"dragenter",o);l(aK,"dragover",o);l(aK,"drop",bU(ar));l(aK,"paste",function(){aw();bO()});l(bZ,"paste",function(){bO()});l(bZ,"cut",function(){bO()});var ag;try{ag=(bM.activeElement==bZ)}catch(a1){}if(ag){setTimeout(aJ,20)}else{aH()}function T(b4){return b4>=0&&b4<bT.length}var bQ={getValue:bj,setValue:bU(ap),getSelection:bK,replaceSelection:bU(aq),focus:function(){aw();aJ();bO()},setOption:function(b4,b5){bi[b4]=b5;if(b4=="lineNumbers"||b4=="gutter"){V()}else{if(b4=="mode"||b4=="indentUnit"){bt()}else{if(b4=="readOnly"&&b5=="nocursor"){bZ.blur()}else{if(b4=="theme"){aK.className=aK.className.replace(/cm-s-\w+/,"cm-s-"+b5)}}}}},getOption:function(b4){return bi[b4]},undo:bU(bF),redo:bU(b3),indentLine:bU(function(b4){if(T(b4)){aA(b4,"smart")}}),historySize:function(){return{undo:a9.done.length,redo:a9.undone.length}},matchBrackets:bU(function(){az(true)}),getTokenAt:function(b4){b4=ao(b4);return bT[b4.line].getTokenAt(bk,aM(b4.line),b4.ch)},getStateAfter:function(b4){b4=a5(b4==null?bT.length-1:b4);return aM(b4+1)},cursorCoords:function(b4){if(b4==null){b4=aX.inverted}return bz(b4?aX.from:aX.to)},charCoords:function(b4){return bz(ao(b4))},coordsChar:function(b5){var b6=S(aO);var b4=a5(Math.min(bT.length-1,bm+Math.floor((b5.y-b6.top)/bS())));return ao({line:b4,ch:bh(a5(b4),b5.x-b6.left)})},getSearchCursor:function(b5,b6,b4){return new aE(b5,b6,b4)},markText:bU(function(b5,b4,b6){return bU(Y(b5,b4,b6))}),setMarker:au,clearMarker:ai,setLineClass:bU(aT),lineInfo:af,addWidget:function(cb,b8,b4,b6){cb=bA(ao(cb));var ca=cb.yBot,b9=cb.x;b8.style.position="absolute";aL.appendChild(b8);b8.style.left=b9+"px";if(b6=="over"){ca=cb.y}else{if(b6=="near"){var b5=Math.max(aK.offsetHeight,bT.length*bS()),b7=Math.max(aL.clientWidth,aO.clientWidth)-bs();if(cb.yBot+b8.offsetHeight>b5&&cb.y>b8.offsetHeight){ca=cb.y-b8.offsetHeight}if(b9+b8.offsetWidth>b7){b9=b7-b8.offsetWidth}}}b8.style.top=(ca+bd())+"px";b8.style.left=(b9+bs())+"px";if(b4){b1(b9,ca,b9+b8.offsetWidth,ca+b8.offsetHeight)}},lineCount:function(){return bT.length},getCursor:function(b4){if(b4==null){b4=aX.inverted}return J(b4?aX.from:aX.to)},somethingSelected:function(){return !M(aX.from,aX.to)},setCursor:bU(function(b4,b5){if(b5==null&&typeof b4.line=="number"){a0(b4.line,b4.ch)}else{a0(b4,b5)}}),setSelection:bU(function(b5,b4){bC(ao(b5),ao(b4||b5))}),getLine:function(b4){if(T(b4)){return bT[b4].text}},setLine:bU(function(b4,b5){if(T(b4)){bu(b5,{line:b4,ch:0},{line:b4,ch:bT[b4].text.length})}}),removeLine:bU(function(b4){if(T(b4)){bu("",{line:b4,ch:0},ao({line:b4+1,ch:0}))}}),replaceRange:bU(bu),getRange:function(b5,b4){return be(ao(b5),ao(b4))},operation:function(b4){return bU(b4)()},refresh:function(){ak(true)},getInputField:function(){return bZ},getWrapperElement:function(){return bv},getScrollerElement:function(){return aK}};function ap(b4){a9=null;var b5={line:0,ch:0};bo(b5,{line:bT.length-1,ch:bT[bT.length-1].text.length},r(b4),b5,b5);a9=new g()}function bj(b6){var b7=[];for(var b5=0,b4=bT.length;b5<b4;++b5){b7.push(bT[b5].text)}return b7.join("\n")}function ay(cb){for(var b7=f(cb);b7!=bv;b7=b7.parentNode){if(b7.parentNode==aL&&b7!=br){return}}var b4=al;al=null;for(var b7=f(cb);b7!=bv;b7=b7.parentNode){if(b7.parentNode==bX){if(bi.onGutterClick){bi.onGutterClick(bQ,k(bX.childNodes,b7)+bm)}return F(cb)}}var b5=ah(cb);switch(p(cb)){case 3:if(B&&!z){av(cb)}return;case 2:if(b5){a0(b5.line,b5.ch,true)}return}if(!b5){if(f(cb)==aK){F(cb)}return}if(!i){aJ()}F(cb);if(b4&&+new Date-b4<400){return aS(b5.line)}a0(b5.line,b5.ch,true);var cd=b5,b6;function b9(){aw();bp=true;b8();ca()}function cc(ce){var cg=ah(ce,true);if(cg&&!M(cg,cd)){if(!i){aJ()}cd=cg;aW(b5,cg);bp=false;var cf=bV();if(cg.line>=cf.to||cg.line<cf.from){b6=setTimeout(bU(function(){cc(ce)}),150)}}}var b8=l(bM,"mousemove",bU(function(ce){clearTimeout(b6);F(ce);cc(ce)}),true);var ca=l(bM,"mouseup",bU(function(ce){clearTimeout(b6);var cf=ah(ce);if(cf){aW(b5,cf)}F(ce);b9()}),true)}function bl(b4){var b5=ah(b4);if(!b5){return}bn(b5);F(b4);al=+new Date}function ar(b8){b8.preventDefault();var cb=ah(b8,true),b5=b8.dataTransfer.files;if(!cb||bi.readOnly){return}if(b5&&b5.length&&window.FileReader&&window.File){function b7(ce,cd){var cc=new FileReader;cc.onload=function(){b9[cd]=cc.result;if(++b6==ca){bu(b9.join(""),ao(cb),ao(cb))}};cc.readAsText(ce)}var ca=b5.length,b9=Array(ca),b6=0;for(var b4=0;b4<ca;++b4){b7(b5[b4],b4)}}else{try{var b9=b8.dataTransfer.getData("Text");if(b9){bu(b9,cb,cb)}}catch(b8){}}}function aB(b8){if(!i){aJ()}var b7=b8.keyCode;if(y&&b7==27){b8.returnValue=false}var b6=(z?b8.metaKey:b8.ctrlKey)&&!b8.altKey,b5=b8.ctrlKey||b8.altKey||b8.metaKey;if(b7==16||b8.shiftKey){bb=bb||(aX.inverted?aX.to:aX.from)}else{bb=null}if(bi.onKeyEvent&&bi.onKeyEvent(bQ,A(b8))){return}if(b7==33||b7==34){bL(b7==34);return F(b8)}if(b6&&((b7==36||b7==35)||z&&(b7==38||b7==40))){bW(b7==36||b7==38);return F(b8)}if(b6&&b7==65){bw();return F(b8)}if(!bi.readOnly){if(!b5&&b7==13){return}if(!b5&&b7==9&&aF(b8.shiftKey)){return F(b8)}if(b6&&b7==90){bF();return F(b8)}if(b6&&((b8.shiftKey&&b7==90)||b7==89)){b3();return F(b8)}}aU=(b6?"c":"")+b7;if(aX.inverted&&N.hasOwnProperty(aU)){var b4=O(bZ);if(b4){bD={anchor:b4.start};b(bZ,b4.start,b4.start)}}bO(aU)}function bq(b4){if(bi.onKeyEvent&&bi.onKeyEvent(bQ,A(b4))){return}if(bD){bD=null;bp=true}if(b4.keyCode==16){bb=null}}function bf(b6){if(bi.onKeyEvent&&bi.onKeyEvent(bQ,A(b6))){return}if(bi.electricChars&&bk.electricChars){var b4=String.fromCharCode(b6.charCode==null?b6.keyCode:b6.charCode);if(bk.electricChars.indexOf(b4)>-1){setTimeout(bU(function(){aA(aX.to.line,"smart")}),50)}}var b5=b6.keyCode;if(b5==13){if(!bi.readOnly){aG()}F(b6)}else{if(!b6.ctrlKey&&!b6.altKey&&!b6.metaKey&&b5==9&&bi.tabMode!="default"){F(b6)}else{bO(aU)}}}function aJ(){if(bi.readOnly=="nocursor"){return}if(!i){if(bi.onFocus){bi.onFocus(bQ)}i=true;if(bv.className.search(/\bCodeMirror-focused\b/)==-1){bv.className+=" CodeMirror-focused"}if(!bP){aI()}}bE();U()}function aH(){if(i){if(bi.onBlur){bi.onBlur(bQ)}i=false;bv.className=bv.className.replace(" CodeMirror-focused","")}clearInterval(am);setTimeout(function(){if(!i){bb=null}},150)}function bo(cb,ca,b8,b5,b4){if(a9){var b6=[];for(var b7=cb.line,b9=ca.line+1;b7<b9;++b7){b6.push(bT[b7].text)}a9.addChange(cb.line,b8.length,b6);while(a9.done.length>bi.undoDepth){a9.done.shift()}}W(cb,ca,b8,b5,b4)}function aZ(ca,b9){var b8=ca.pop();if(b8){var b6=[],b4=b8.start+b8.added;for(var b5=b8.start;b5<b4;++b5){b6.push(bT[b5].text)}b9.push({start:b8.start,added:b8.old.length,old:b6});var b7=ao({line:b8.start+b8.old.length-1,ch:H(b6[b6.length-1],b8.old[b8.old.length-1])});W({line:b8.start,ch:0},{line:b4-1,ch:bT[b4-1].text.length},b8.old,b7,b7);bp=true}}function bF(){aZ(a9.done,a9.undone)}function b3(){aZ(a9.undone,a9.done)}function W(cf,b8,ck,b4,cl){var cj=false,b7=aP.length;for(var cg=cf.line;cg<=b8.line;++cg){if(bT[cg].text.length==b7){cj=true;break}}var cb=b8.line-cf.line,ca=bT[cf.line],b5=bT[b8.line];if(ca==b5){if(ck.length==1){ca.replace(cf.ch,b8.ch,ck[0])}else{b5=ca.split(b8.ch,ck[ck.length-1]);var cc=[cf.line+1,cb];ca.replace(cf.ch,ca.text.length,ck[0]);for(var cg=1,ci=ck.length-1;cg<ci;++cg){cc.push(new c(ck[cg]))}cc.push(b5);bT.splice.apply(bT,cc)}}else{if(ck.length==1){ca.replace(cf.ch,ca.text.length,ck[0]+b5.text.slice(b8.ch));bT.splice(cf.line+1,cb)}else{var cc=[cf.line+1,cb-1];ca.replace(cf.ch,ca.text.length,ck[0]);b5.replace(0,b8.ch,ck[ck.length-1]);for(var cg=1,ci=ck.length-1;cg<ci;++cg){cc.push(new c(ck[cg]))}bT.splice.apply(bT,cc)}}for(var cg=cf.line,ci=cg+ck.length;cg<ci;++cg){var ce=bT[cg].text;if(ce.length>b7){aP=ce;b7=ce.length;aa=null;cj=false}}if(cj){b7=0;aP="";aa=null;for(var cg=0,ci=bT.length;cg<ci;++cg){var ce=bT[cg].text;if(ce.length>b7){b7=ce.length;aP=ce}}}var b6=[],b9=ck.length-cb-1;for(var cg=0,ce=bc.length;cg<ce;++cg){var ch=bc[cg];if(ch<cf.line){b6.push(ch)}else{if(ch>b8.line){b6.push(ch+b9)}}}if(ck.length<5){bg(cf.line,cf.line+ck.length);b6.push(cf.line+ck.length)}else{b6.push(cf.line)}bc=b6;bY(100);bR.push({from:cf.line,to:b8.line+1,diff:b9});aQ={from:cf,to:b8,text:ck};function cd(cm){return cm<=Math.min(b8.line,b8.line+b9)?cm:cm+b9}bC(b4,cl,cd(aX.from.line),cd(aX.to.line));aL.style.height=(bT.length*bS()+2*bd())+"px"}function bu(b5,b8,b7){b8=ao(b8);if(!b7){b7=b8}else{b7=ao(b7)}b5=r(b5);function b6(cb){if(I(cb,b8)){return cb}if(!I(b7,cb)){return b4}var b9=cb.line+b5.length-(b7.line-b8.line)-1;var ca=cb.ch;if(cb.line==b7.line){ca+=b5[b5.length-1].length-(b7.ch-(b7.line==b8.line?b8.ch:0))}return{line:b9,ch:ca}}var b4;bG(b5,b8,b7,function(b9){b4=b9;return{from:b6(aX.from),to:b6(aX.to)}});return b4}function aq(b4,b5){bG(r(b4),aX.from,aX.to,function(b6){if(b5=="end"){return{from:b6,to:b6}}else{if(b5=="start"){return{from:aX.from,to:aX.from}}else{return{from:aX.from,to:b6}}}})}function bG(b7,b9,b8,b4){var b6=b7.length==1?b7[0].length+b9.ch:b7[b7.length-1].length;var b5=b4({line:b9.line+b7.length-1,ch:b6});bo(b9,b8,b7,b5.from,b5.to)}function be(b9,b8){var b5=b9.line,b4=b8.line;if(b5==b4){return bT[b5].text.slice(b9.ch,b8.ch)}var b7=[bT[b5].text.slice(b9.ch)];for(var b6=b5+1;b6<b4;++b6){b7.push(bT[b6].text)}b7.push(bT[b4].text.slice(0,b8.ch));return b7.join("\n")}function bK(){return be(aX.from,aX.to)}var a4=false;function bE(){if(a4){return}aN.set(2000,function(){ad();bN();if(i){bE()}aR()})}function bO(b6){var b4=false;a4=true;function b5(){ad();var b7=bN();if(b7=="moved"&&b6){N[b6]=true}if(!b7&&!b4){b4=true;aN.set(80,b5)}else{a4=false;bE()}aR()}aN.set(20,b5)}function bN(){if(bP||!i){return}var cb=false,ck=bZ.value,cm=O(bZ);if(!cm){return false}var cb=ab.text!=ck,cd=bD;var cc=cb||cm.start!=ab.start||cm.end!=(cd?ab.start:ab.end);if(!cc&&!cd){return false}if(cb){bb=bD=null;if(bi.readOnly){bp=true;return"changed"}}function b8(cr,cp){var cq=0;for(;;){var ch=ck.indexOf("\n",cq);if(ch==-1||(ck.charAt(ch-1)=="\r"?ch-1:ch)>=cr){return{line:cp,ch:cr-cq}}++cp;cq=ch+1}}var cl=b8(cm.start,ab.from),b5=b8(cm.end,ab.from);if(cd){var ca=cm.start==cd.anchor?b5:cl;var ce=bb?aX.to:cm.start==cd.anchor?cl:b5;if(aX.inverted=I(ca,ce)){cl=ca;b5=ce}else{bD=null;cl=ce;b5=ca}}if(cl.line==b5.line&&cl.line==aX.from.line&&cl.line==aX.to.line&&!bb){bp=false}if(cb){var b9=0,b7=ck.length,cn=Math.min(b7,ab.text.length);var co,cg=ab.from,b6=-1;while(b9<cn&&(co=ck.charAt(b9))==ab.text.charAt(b9)){++b9;if(co=="\n"){cg++;b6=b9}}var ci=b6>-1?b9-b6:b9,b4=ab.to-1,cf=ab.text.length;for(;;){co=ab.text.charAt(cf);if(ck.charAt(b7)!=co){++b7;++cf;break}if(co=="\n"){b4--}if(cf<=b9||b7<=b9){break}--b7;--cf}var b6=ab.text.lastIndexOf("\n",cf-1),cj=b6==-1?cf:cf-b6-1;bo({line:cg,ch:ci},{line:b4,ch:cj},r(ck.slice(b9,b7)),cl,b5);if(cg!=b4||cl.line!=cg){bp=true}}else{bC(cl,b5)}ab.text=ck;ab.start=cm.start;ab.end=cm.end;return cb?"changed":cc?"moved":false}function aI(){var b7=[];var b9=Math.max(0,aX.from.line-1),b8=Math.min(bT.length,aX.to.line+2);for(var b6=b9;b6<b8;++b6){b7.push(bT[b6].text)}b7=bZ.value=b7.join(d);var b5=aX.from.ch,b4=aX.to.ch;for(var b6=b9;b6<aX.from.line;++b6){b5+=d.length+bT[b6].text.length}for(var b6=b9;b6<aX.to.line;++b6){b4+=d.length+bT[b6].text.length}ab={text:b7,from:b9,to:b8,start:b5,end:b4};b(bZ,b5,bD?b5:b4)}function aw(){if(bi.readOnly!="nocursor"){bZ.focus()}}function a2(){var b4=bA(aX.inverted?aX.from:aX.to);return b1(b4.x,b4.y,b4.x,b4.yBot)}function b1(b6,ca,b4,b9){var b8=bs(),cg=bd(),cc=bS();ca+=cg;b9+=cg;b6+=b8;b4+=b8;var cd=aK.clientHeight,b7=aK.scrollTop,b5=false,cf=true;if(ca<b7){aK.scrollTop=Math.max(0,ca-2*cc);b5=true}else{if(b9>b7+cd){aK.scrollTop=b9+cc-cd;b5=true}}var cb=aK.clientWidth,ce=aK.scrollLeft;if(b6<ce){if(b6<50){b6=0}aK.scrollLeft=Math.max(0,b6-10);b5=true}else{if(b4>cb+ce){aK.scrollLeft=b4+10-cb;b5=true;if(b4>aL.clientWidth){cf=false}}}if(b5&&bi.onScroll){bi.onScroll(bQ)}return cf}function bV(){var b4=bS(),b5=aK.scrollTop-bd();return{from:Math.min(bT.length,Math.max(0,Math.floor(b5/b4))),to:Math.min(bT.length,Math.ceil((b5+aK.clientHeight)/b4))}}function ak(cm){if(!aK.clientWidth){bm=bB=0;return}var cl=cm===true?[]:[{from:bm,to:bB,domStart:0}];for(var ck=0,cg=cm.length||0;ck<cg;++ck){var ca=cm[ck],b8=[],cb=ca.diff||0;for(var cj=0,ch=cl.length;cj<ch;++cj){var cd=cl[cj];if(ca.to<=cd.from){b8.push({from:cd.from+cb,to:cd.to+cb,domStart:cd.domStart})}else{if(cd.to<=ca.from){b8.push(cd)}else{if(ca.from>cd.from){b8.push({from:cd.from,to:ca.from,domStart:cd.domStart})}if(ca.to<cd.to){b8.push({from:ca.to+cb,to:cd.to+cb,domStart:cd.domStart+(ca.to-cd.from)})}}}}cl=b8}var b5=bV();var ci=Math.min(bm,Math.max(b5.from-3,0)),b4=Math.min(bT.length,Math.max(bB,b5.to+3)),b9=[],cc=0,b7=bB-bm,b6=ci,cf=0;for(var ck=0,cg=cl.length;ck<cg;++ck){var cd=cl[ck];if(cd.to<=ci){continue}if(cd.from>=b4){break}if(cd.domStart>cc||cd.from>b6){b9.push({from:b6,to:cd.from,domSize:cd.domStart-cc,domStart:cc});cf+=cd.from-b6}b6=cd.to;cc=cd.domStart+(cd.to-cd.from)}if(cc!=b7||b6!=b4){cf+=Math.abs(b4-b6);b9.push({from:b6,to:b4,domSize:b7-cc,domStart:cc})}if(!b9.length){return}an.style.display="none";if(cf>(b5.to-b5.from)*0.3){a6(ci=Math.max(b5.from-10,0),b4=Math.min(b5.to+7,bT.length))}else{ae(b9)}an.style.display="";var ce=ci!=bm||b4!=bB||bI!=aK.clientHeight;bm=ci;bB=b4;br.style.top=(ci*bS())+"px";if(ce){bI=aK.clientHeight;aL.style.height=(bT.length*bS()+2*bd())+"px";ac()}if(aa==null){aa=aY(aP)}if(aa>aK.clientWidth){aO.style.width=aa+"px";aL.style.width="";aL.style.width=aK.scrollWidth+"px"}else{aO.style.width=aL.style.width=""}if(an.childNodes.length!=bB-bm){throw new Error("BAD PATCH! "+JSON.stringify(b9)+" size="+(bB-bm)+" nodes="+an.childNodes.length)}bJ()}function a6(cb,ca){var b7=[],b9={line:cb,ch:0},b8=I(aX.from,b9)&&!I(aX.to,b9);for(var b6=cb;b6<ca;++b6){var b5=null,b4=null;if(b8){b5=0;if(aX.to.line==b6){b8=false;b4=aX.to.ch}}else{if(aX.from.line==b6){if(aX.to.line==b6){b5=aX.from.ch;b4=aX.to.ch}else{b8=true;b5=aX.from.ch}}}b7.push(bT[b6].getHTML(b5,b4,true))}an.innerHTML=b7.join("")}function ae(cg){var ch=aX.from.line,ci=aX.to.line,b6=0,ce=D&&bM.createElement("div");for(var cc=0,cd=cg.length;cc<cd;++cc){var b9=cg[cc];var b8=(b9.to-b9.from)-b9.domSize;var cf=an.childNodes[b9.domStart+b9.domSize+b6]||null;if(D){for(var cb=Math.max(-b8,b9.domSize);cb>0;--cb){an.removeChild(cf?cf.previousSibling:an.lastChild)}}else{if(b8){for(var cb=Math.max(0,b8);cb>0;--cb){an.insertBefore(bM.createElement("pre"),cf)}for(var cb=Math.max(0,-b8);cb>0;--cb){an.removeChild(cf?cf.previousSibling:an.lastChild)}}}var b7=an.childNodes[b9.domStart+b6],ca=ch<b9.from&&ci>=b9.from;for(var cb=b9.from;cb<b9.to;++cb){var b5=null,b4=null;if(ca){b5=0;if(ci==cb){ca=false;b4=aX.to.ch}}else{if(ch==cb){if(ci==cb){b5=aX.from.ch;b4=aX.to.ch}else{ca=true;b5=aX.from.ch}}}if(D){ce.innerHTML=bT[cb].getHTML(b5,b4,true);an.insertBefore(ce.firstChild,cf)}else{b7.innerHTML=bT[cb].getHTML(b5,b4,false);b7.className=bT[cb].className||"";b7=b7.nextSibling}}b6+=b8}}function ac(){if(!bi.gutter&&!bi.lineNumbers){return}var b6=br.offsetHeight,cd=aK.clientHeight;aV.style.height=(b6-cd<2?cd:b6)+"px";var cb=[];for(var b9=bm;b9<Math.max(bB,bm+1);++b9){var ca=bT[b9].gutterMarker;var cc=bi.lineNumbers?b9+bi.firstLineNumber:null;if(ca&&ca.text){cc=ca.text.replace("%N%",cc!=null?cc:"")}else{if(cc==null){cc="\u00a0"}}cb.push((ca&&ca.style?'<pre class="'+ca.style+'">':"<pre>"),cc,"</pre>")}aV.style.display="none";bX.innerHTML=cb.join("");var b8=String(bT.length).length,b4=bX.firstChild,b5=w(b4),b7="";while(b5.length+b7.length<b8){b7+="\u00a0"}if(b7){b4.insertBefore(bM.createTextNode(b7),b4.firstChild)}aV.style.display="";aO.style.marginLeft=aV.offsetWidth+"px"}function bJ(){var b6=aX.inverted?aX.from:aX.to,b5=bS();var b4=X(b6.line,b6.ch)+"px",b7=(b6.line-bm)*b5+"px";b2.style.top=(b6.line*b5-aK.scrollTop)+"px";if(M(aX.from,aX.to)){aj.style.top=b7;aj.style.left=b4;aj.style.display=""}else{aj.style.display="none"}}function aW(b6,b5){var b4=bb&&ao(bb);if(b4){if(I(b4,b6)){b6=b4}else{if(I(b5,b4)){b5=b4}}}bC(b6,b5)}function bC(b8,b7,b4,b6){if(M(aX.from,b8)&&M(aX.to,b7)){return}if(I(b7,b8)){var b5=b7;b7=b8;b8=b5}if(M(b8,b7)){aX.inverted=false}else{if(M(b8,aX.to)){aX.inverted=false}else{if(M(b7,aX.from)){aX.inverted=true}}}if(b4==null){b4=aX.from.line;b6=aX.to.line}if(M(b8,b7)){if(!M(aX.from,aX.to)){bR.push({from:b4,to:b6+1})}}else{if(M(aX.from,aX.to)){bR.push({from:b8.line,to:b7.line+1})}else{if(!M(b8,aX.from)){if(b8.line<b4){bR.push({from:b8.line,to:Math.min(b7.line,b4)+1})}else{bR.push({from:b4,to:Math.min(b6,b8.line)+1})}}if(!M(b7,aX.to)){if(b7.line<b6){bR.push({from:Math.max(b4,b8.line),to:b6+1})}else{bR.push({from:Math.max(b8.line,b6),to:b7.line+1})}}}}aX.from=b8;aX.to=b7;at=true}function a0(b4,b6,b5){var b7=ao({line:b4,ch:b6||0});(b5?aW:bC)(b7,b7)}function a5(b4){return Math.max(0,Math.min(b4,bT.length-1))}function ao(b6){if(b6.line<0){return{line:0,ch:0}}if(b6.line>=bT.length){return{line:bT.length-1,ch:bT[bT.length-1].text.length}}var b4=b6.ch,b5=bT[b6.line].text.length;if(b4==null||b4>b5){return{line:b6.line,ch:b5}}else{if(b4<0){return{line:b6.line,ch:0}}else{return b6}}}function bL(b6){var b4=Math.floor(aK.clientHeight/bS()),b5=aX.inverted?aX.from:aX.to;a0(b5.line+(Math.max(b4-1,1)*(b6?1:-1)),b5.ch,true)}function bW(b4){var b5=b4?{line:0,ch:0}:{line:bT.length-1,ch:bT[bT.length-1].text.length};aW(b5,b5)}function bw(){var b4=bT.length-1;bC({line:0,ch:0},{line:b4,ch:bT[b4].text.length})}function bn(b7){var b5=bT[b7.line].text;var b6=b7.ch,b4=b7.ch;while(b6>0&&/\w/.test(b5.charAt(b6-1))){--b6}while(b4<b5.length&&/\w/.test(b5.charAt(b4))){++b4}aW({line:b7.line,ch:b6},{line:b7.line,ch:b4})}function aS(b4){aW({line:b4,ch:0},{line:b4,ch:bT[b4].text.length})}function aG(){aq("\n","end");if(bi.enterMode!="flat"){aA(aX.from.line,bi.enterMode=="keep"?"prev":"smart")}}function aF(b4){function b5(b8){if(M(aX.from,aX.to)){return aA(aX.from.line,b8)}var b7=aX.to.line-(aX.to.ch?0:1);for(var b6=aX.from.line;b6<=b7;++b6){aA(b6,b8)}}bb=null;switch(bi.tabMode){case"default":return false;case"indent":b5("smart");break;case"classic":if(M(aX.from,aX.to)){if(b4){aA(aX.from.line,"smart")}else{aq("\t","end")}break}case"shift":b5(b4?"subtract":"add");break}return true}function aA(b6,cd){if(cd=="smart"){if(!bk.indent){cd="prev"}else{var b4=aM(b6)}}var ce=bT[b6],b8=ce.indentation(),b5=ce.text.match(/^\s*/)[0],ca;if(cd=="prev"){if(b6){ca=bT[b6-1].indentation()}else{ca=0}}else{if(cd=="smart"){ca=bk.indent(b4,ce.text.slice(b5.length))}else{if(cd=="add"){ca=b8+bi.indentUnit}else{if(cd=="subtract"){ca=b8-bi.indentUnit}}}}ca=Math.max(0,ca);var cc=ca-b8;if(!cc){if(aX.from.line!=b6&&aX.to.line!=b6){return}var cb=b5}else{var cb="",b9=0;if(bi.indentWithTabs){for(var b7=Math.floor(ca/s);b7;--b7){b9+=s;cb+="\t"}}while(b9<ca){++b9;cb+=" "}}bu(cb,{line:b6,ch:0},{line:b6,ch:b5.length})}function bt(){bk=n.getMode(bi,bi.mode);for(var b5=0,b4=bT.length;b5<b4;++b5){bT[b5].stateAfter=null}bc=[0];bY()}function V(){var b4=bi.gutter||bi.lineNumbers;aV.style.display=b4?"":"none";if(b4){ac()}else{an.parentNode.style.marginLeft=0}}function Y(ca,b9,b6){ca=ao(ca);b9=ao(b9);var b4=[];function b8(cb,cf,ce,cc){var cb=bT[cb],cd=cb.addMark(cf,ce,cc);cd.line=cb;b4.push(cd)}if(ca.line==b9.line){b8(ca.line,ca.ch,b9.ch,b6)}else{b8(ca.line,ca.ch,null,b6);for(var b5=ca.line+1,b7=b9.line;b5<b7;++b5){b8(b5,0,null,b6)}b8(b9.line,0,b9.ch,b6)}bR.push({from:ca.line,to:b9.line+1});return function(){var cf,cb;for(var cc=0;cc<b4.length;++cc){var ce=b4[cc],cd=k(bT,ce.line);ce.line.removeMark(ce);if(cd>-1){if(cf==null){cf=cd}cb=cd}}if(cf!=null){bR.push({from:cf,to:cb+1})}}}function au(b4,b6,b5){if(typeof b4=="number"){b4=bT[a5(b4)]}b4.gutterMarker={text:b6,style:b5};ac();return b4}function ai(b4){if(typeof b4=="number"){b4=bT[a5(b4)]}b4.gutterMarker=null;ac()}function aT(b4,b5){if(typeof b4=="number"){var b6=b4;b4=bT[a5(b4)]}else{var b6=k(bT,b4);if(b6==-1){return null}}if(b4.className!=b5){b4.className=b5;bR.push({from:b6,to:b6+1})}return b4}function af(b5){if(typeof b5=="number"){var b6=b5;b5=bT[b5];if(!b5){return null}}else{var b6=k(bT,b5);if(b6==-1){return null}}var b4=b5.gutterMarker;return{line:b6,text:b5.text,markerText:b4&&b4.text,markerClass:b4&&b4.style}}function aY(b4){aD.innerHTML="<pre><span>x</span></pre>";aD.firstChild.firstChild.firstChild.nodeValue=b4;return aD.firstChild.firstChild.offsetWidth||10}function X(b4,b5){if(b5==0){return 0}aD.innerHTML="<pre><span>"+bT[b4].getHTML(null,null,false,b5)+"</span></pre>";return aD.firstChild.firstChild.offsetWidth}function bh(cg,ca){if(ca<=0){return 0}var b7=bT[cg],cd=b7.text;function ce(ch){aD.innerHTML="<pre><span>"+b7.getHTML(null,null,false,ch)+"</span></pre>";return aD.firstChild.firstChild.offsetWidth}var cb=0,b9=0,cc=cd.length,b8;var b5=Math.min(cc,Math.ceil(ca/aY("x")));for(;;){var b6=ce(b5);if(b6<=ca&&b5<cc){b5=Math.min(cc,Math.ceil(b5*1.2))}else{b8=b6;cc=b5;break}}if(ca>b8){return cc}b5=Math.floor(cc*0.8);b6=ce(b5);if(b6<ca){cb=b5;b9=b6}for(;;){if(cc-cb<=1){return(b8-ca>ca-b9)?cb:cc}var cf=Math.ceil((cb+cc)/2),b4=ce(cf);if(b4>ca){cc=cf;b8=b4}else{cb=cf;b9=b4}}}function bA(b7,b6){var b5=bS(),b4=b7.line-(b6?bm:0);return{x:X(b7.line,b7.ch),y:b4*b5,yBot:(b4+1)*b5}}function bz(b6){var b4=bA(b6,true),b5=S(aO);return{x:b5.left+b4.x,y:b5.top+b4.y,yBot:b5.top+b4.yBot}}function bS(){var b4=an.childNodes.length;if(b4){return(an.offsetHeight/b4)||1}aD.innerHTML="<pre>x</pre>";return aD.firstChild.offsetHeight||1}function bd(){return aO.offsetTop}function bs(){return aO.offsetLeft}function ah(b9,b8){var b7=S(aK,true),b4,ca;try{b4=b9.clientX;ca=b9.clientY}catch(b9){return null}if(!b8&&(b4-b7.left>aK.clientWidth||ca-b7.top>aK.clientHeight)){return null}var b6=S(aO,true);var b5=bm+Math.floor((ca-b6.top)/bS());return ao({line:b5,ch:bh(a5(b5),b4-b6.left)})}function av(b5){var b9=ah(b5);if(!b9||window.opera){return}if(M(aX.from,aX.to)||I(b9,aX.from)||!I(b9,aX.to)){bU(a0)(b9.line,b9.ch)}var b8=bZ.style.cssText;b2.style.position="absolute";bZ.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(u(b5)-1)+"px; left: "+(v(b5)-1)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";bP=true;var b7=bZ.value=bK();aw();b(bZ,0,bZ.value.length);function b4(){var ca=r(bZ.value).join("\n");if(ca!=b7){bU(aq)(ca,"end")}b2.style.position="relative";bZ.style.cssText=b8;bP=false;aI();bE()}if(B){o(b5);var b6=l(window,"mouseup",function(){b6();setTimeout(b4,20)},true)}else{setTimeout(b4,50)}}function U(){clearInterval(am);var b4=true;aj.style.visibility="";am=setInterval(function(){aj.style.visibility=(b4=!b4)?"":"hidden"},650)}var b0={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function az(ca){var b4=aX.inverted?aX.from:aX.to,cc=bT[b4.line],b5=b4.ch-1;var b9=(b5>=0&&b0[cc.text.charAt(b5)])||b0[cc.text.charAt(++b5)];if(!b9){return}var cd=b9.charAt(0),cb=b9.charAt(1)==">",co=cb?1:-1,cj=cc.styles;for(var cp=b5+1,cl=0,cn=cj.length;cl<cn;cl+=2){if((cp-=cj[cl].length)<=0){var cm=cj[cl+1];break}}var b7=[cc.text.charAt(b5)],ci=/[(){}[\]]/;function cf(cA,cv,cw){if(!cA.text){return}var cz=cA.styles,cu=cb?0:cA.text.length-1,cx;for(var cr=cb?0:cz.length-2,ct=cb?cz.length:-2;cr!=ct;cr+=2*co){var cy=cz[cr];if(cz[cr+1]!=null&&cz[cr+1]!=cm){cu+=co*cy.length;continue}for(var cq=cb?0:cy.length-1,ch=cb?cy.length:-1;cq!=ch;cq+=co,cu+=co){if(cu>=cv&&cu<cw&&ci.test(cx=cy.charAt(cq))){var cs=b0[cx];if(cs.charAt(1)==">"==cb){b7.push(cx)}else{if(b7.pop()!=cs.charAt(0)){return{pos:cu,match:false}}else{if(!b7.length){return{pos:cu,match:true}}}}}}}}for(var cl=b4.line,cn=cb?Math.min(cl+100,bT.length):Math.max(-1,cl-100);cl!=cn;cl+=co){var cc=bT[cl],b8=cl==b4.line;var ce=cf(cc,b8&&cb?b5+1:0,b8&&!cb?b5:cc.text.length);if(ce){break}}if(!ce){ce={pos:null,match:false}}var cm=ce.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var ck=Y({line:b4.line,ch:b5},{line:b4.line,ch:b5+1},cm),b6=ce.pos!=null?Y({line:cl,ch:ce.pos},{line:cl,ch:ce.pos+1},cm):function(){};var cg=bU(function(){ck();b6()});if(ca){setTimeout(cg,800)}else{bH=cg}}function a7(ca){var b9,b6;for(var b5=ca,b7=ca-40;b5>b7;--b5){if(b5==0){return 0}var b4=bT[b5-1];if(b4.stateAfter){return b5}var b8=b4.indentation();if(b6==null||b9>b8){b6=b5;b9=b8}}return b6}function aM(b8){var b7=a7(b8),b6=b7&&bT[b7-1].stateAfter;if(!b6){b6=G(bk)}else{b6=j(bk,b6)}for(var b5=b7;b5<b8;++b5){var b4=bT[b5];b4.highlight(bk,b6);b4.stateAfter=j(bk,b6)}if(b8<bT.length&&!bT[b8].stateAfter){bc.push(b8)}return b6}function bg(b8,b5){var b7=aM(b8);for(var b6=b8;b6<b5;++b6){var b4=bT[b6];b4.highlight(bk,b7);b4.stateAfter=j(bk,b7)}}function ba(){var ca=+new Date+bi.workTime;var ce=bc.length;while(bc.length){if(!bT[bm].stateAfter){var b7=bm}else{var b7=bc.pop()}if(b7>=bT.length){continue}var b5=a7(b7),b4=b5&&bT[b5-1].stateAfter;if(b4){b4=j(bk,b4)}else{b4=G(bk)}var b9=0,b6=bk.compareStates;for(var cd=b5,b8=bT.length;cd<b8;++cd){var cf=bT[cd],cb=cf.stateAfter;if(+new Date>ca){bc.push(cd);bY(bi.workDelay);bR.push({from:b7,to:cd+1});return}var cc=cf.highlight(bk,b4);cf.stateAfter=j(bk,b4);if(b6){if(cb&&b6(cb,b4)){break}}else{if(cc||!cb){b9=0}else{if(++b9>3){break}}}}bR.push({from:b7,to:cd+1})}if(ce&&bi.onHighlightComplete){bi.onHighlightComplete(bQ)}}function bY(b4){if(!bc.length){return}ax.set(b4,bU(ba))}function ad(){bp=null;bR=[];aQ=at=false}function aR(){var b5=false;if(at){b5=!a2()}if(bR.length){ak(bR)}else{if(at){bJ()}}if(b5){a2()}if(at){U()}if(i&&!bP&&(bp===true||(bp!==false&&at))){aI()}if(at&&bi.matchBrackets){setTimeout(bU(function(){if(bH){bH();bH=null}az(false)}),20)}var b4=aQ;if(at&&bi.onCursorActivity){bi.onCursorActivity(bQ)}if(b4&&bi.onChange&&bQ){bi.onChange(bQ,b4)}}var aC=0;function bU(b4){return function(){if(!aC++){ad()}try{var b5=b4.apply(this,arguments)}finally{if(!--aC){aR()}}return b5}}function aE(b6,b8,b5){this.atOccurrence=false;if(b5==null){b5=typeof b6=="string"&&b6==b6.toLowerCase()}if(b8&&typeof b8=="object"){b8=ao(b8)}else{b8={line:0,ch:0}}this.pos={from:b8,to:b8};if(typeof b6!="string"){this.matches=function(cb,cf){if(cb){var b9=bT[cf.line].text.slice(0,cf.ch),ca=b9.match(b6),ce=0;while(ca){var cc=b9.indexOf(ca[0]);ce+=cc;b9=b9.slice(cc+1);var cd=b9.match(b6);if(cd){ca=cd}else{break}ce++}}else{var b9=bT[cf.line].text.slice(cf.ch),ca=b9.match(b6),ce=ca&&cf.ch+b9.indexOf(ca[0])}if(ca){return{from:{line:cf.line,ch:ce},to:{line:cf.line,ch:ce+ca[0].length},match:ca}}}}else{if(b5){b6=b6.toLowerCase()}var b4=b5?function(b9){return b9.toLowerCase()}:function(b9){return b9};var b7=b6.split("\n");if(b7.length==1){this.matches=function(cc,cd){var ca=b4(bT[cd.line].text),b9=b6.length,cb;if(cc?(cd.ch>=b9&&(cb=ca.lastIndexOf(b6,cd.ch-b9))!=-1):(cb=ca.indexOf(b6,cd.ch))!=-1){return{from:{line:cd.line,ch:cb},to:{line:cd.line,ch:cb+b9}}}}}else{this.matches=function(ce,cg){var cf=cg.line,ch=(ce?b7.length-1:0),cc=b7[ch],ci=b4(bT[cf].text);var cd=(ce?ci.indexOf(cc)+cc.length:ci.lastIndexOf(cc));if(ce?cd>=cg.ch||cd!=cc.length:cd<=cg.ch||cd!=ci.length-cc.length){return}for(;;){if(ce?!cf:cf==bT.length-1){return}ci=b4(bT[cf+=ce?-1:1].text);cc=b7[ce?--ch:++ch];if(ch>0&&ch<b7.length-1){if(ci!=cc){return}else{continue}}var cb=(ce?ci.lastIndexOf(cc):ci.indexOf(cc)+cc.length);if(ce?cb!=ci.length-cc.length:cb!=cc.length){return}var b9={line:cg.line,ch:cd},ca={line:cf,ch:cb};return{from:ce?ca:b9,to:ce?b9:ca}}}}}}aE.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(b5){var b4=this,b7=ao(b5?this.pos.from:this.pos.to);function b6(b8){var b9={line:b8,ch:0};b4.pos={from:b9,to:b9};b4.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(b5,b7)){this.atOccurrence=true;return this.pos.match||true}if(b5){if(!b7.line){return b6(0)}b7={line:b7.line-1,ch:bT[b7.line-1].text.length}}else{if(b7.line==bT.length-1){return b6(bT.length)}b7={line:b7.line+1,ch:0}}}},from:function(){if(this.atOccurrence){return J(this.pos.from)}},to:function(){if(this.atOccurrence){return J(this.pos.to)}},replace:function(b5){var b4=this;if(this.atOccurrence){bU(function(){b4.pos.to=bu(b5,b4.pos.from,b4.pos.to)})()}}};for(var by in K){if(K.propertyIsEnumerable(by)&&!bQ.propertyIsEnumerable(by)){bQ[by]=K[by]}}return bQ}n.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,tabMode:"classic",enterMode:"indent",electricChars:true,onKeyEvent:null,lineNumbers:false,gutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var Q={},E={};n.defineMode=function(i,T){if(!n.defaults.mode&&i!="null"){n.defaults.mode=i}Q[i]=T};n.defineMIME=function(T,i){E[T]=i};n.getMode=function(U,i){if(typeof i=="string"&&E.hasOwnProperty(i)){i=E[i]}if(typeof i=="string"){var W=i,T={}}else{if(i!=null){var W=i.name,T=i}}var V=Q[W];if(!V){if(window.console){console.warn("No mode "+W+" found, falling back to plain text.")}return n.getMode(U,"text/plain")}return V(U,T||{})};n.listModes=function(){var T=[];for(var i in Q){if(Q.propertyIsEnumerable(i)){T.push(i)}}return T};n.listMIMEs=function(){var T=[];for(var i in E){if(E.propertyIsEnumerable(i)){T.push(i)}}return T};var K={};n.defineExtension=function(i,T){K[i]=T};n.fromTextArea=function(T,V){if(!V){V={}}V.value=T.value;if(!V.tabindex&&T.tabindex){V.tabindex=T.tabindex}function X(){T.value=i.getValue()}if(T.form){var W=l(T.form,"submit",X,true);if(typeof T.form.submit=="function"){var U=T.form.submit;function Y(){X();T.form.submit=U;T.form.submit();T.form.submit=Y}T.form.submit=Y}}T.style.display="none";var i=n(function(Z){T.parentNode.insertBefore(Z,T.nextSibling)},V);i.save=X;i.toTextArea=function(){X();T.parentNode.removeChild(i.getWrapperElement());T.style.display="";if(T.form){W();if(typeof T.form.submit=="function"){T.form.submit=U}}};return i};function j(V,i){if(i===true){return i}if(V.copyState){return V.copyState(i)}var U={};for(var W in i){var T=i[W];if(T instanceof Array){T=T.concat([])}U[W]=T}return U}n.startState=G;function G(U,T,i){return U.startState?U.startState(T,i):true}n.copyState=j;function a(i){this.pos=this.start=0;this.string=i}a.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(i){var U=this.string.charAt(this.pos);if(typeof i=="string"){var T=U==i}else{var T=U&&(i.test?i.test(U):i(U))}if(T){++this.pos;return U}},eatWhile:function(i){var T=this.start;while(this.eat(i)){}return this.pos>T},eatSpace:function(){var i=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>i},skipToEnd:function(){this.pos=this.string.length},skipTo:function(i){var T=this.string.indexOf(i,this.pos);if(T>-1){this.pos=T;return true}},backUp:function(i){this.pos-=i},column:function(){return h(this.string,this.start)},indentation:function(){return h(this.string)},match:function(V,T,i){if(typeof V=="string"){function W(X){return i?X.toLowerCase():X}if(W(this.string).indexOf(W(V),this.pos)==this.pos){if(T!==false){this.pos+=V.length}return true}}else{var U=this.string.slice(this.pos).match(V);if(U&&T!==false){this.pos+=U[0].length}return U}},current:function(){return this.string.slice(this.start,this.pos)}};n.StringStream=a;function c(T,i){this.styles=i||[T,null];this.stateAfter=null;this.text=T;this.marked=this.gutterMarker=this.className=null}c.prototype={replace:function(Y,Z,ac){var ad=[],W=this.marked;R(0,Y,this.styles,ad);if(ac){ad.push(ac,null)}R(Z,this.text.length,this.styles,ad);this.styles=ad;this.text=this.text.slice(0,Y)+ac+this.text.slice(Z);this.stateAfter=null;if(W){var aa=ac.length-(Z-Y),U=this.text.length;function X(i){return i<=Math.min(Z,Z+aa)?i:i+aa}for(var V=0;V<W.length;++V){var T=W[V],ab=false;if(T.from>=U){ab=true}else{T.from=X(T.from);if(T.to!=null){T.to=X(T.to)}}if(ab||T.from>=T.to){W.splice(V,1);V--}}}},split:function(U,T){var i=[T,null];R(U,this.text.length,this.styles,i);return new c(T+this.text.slice(U),i)},addMark:function(W,V,T){var i=this.marked,U={from:W,to:V,style:T};if(this.marked==null){this.marked=[]}this.marked.push(U);this.marked.sort(function(Y,X){return Y.from-X.from});return U},removeMark:function(V){var T=this.marked;if(!T){return}for(var U=0;U<T.length;++U){if(T[U]==V){T.splice(U,1);break}}},highlight:function(X,T){var Z=new a(this.text),ab=this.styles,Y=0;var W=false,U=ab[0],aa;if(this.text==""&&X.blankLine){X.blankLine(T)}while(!Z.eol()){var i=X.token(Z,T);var V=this.text.slice(Z.start,Z.pos);Z.start=Z.pos;if(Y&&ab[Y-1]==i){ab[Y-2]+=V}else{if(V){if(!W&&(ab[Y+1]!=i||(Y&&ab[Y-2]!=aa))){W=true}ab[Y++]=V;ab[Y++]=i;aa=U;U=ab[Y]}}if(Z.pos>5000){ab[Y++]=this.text.slice(Z.pos);ab[Y++]=null;break}}if(ab.length!=Y){ab.length=Y;W=true}if(Y&&ab[Y-2]!=aa){W=true}return W||(ab.length<5&&this.text.length<10)},getTokenAt:function(X,V,U){var i=this.text,W=new a(i);while(W.pos<U&&!W.eol()){W.start=W.pos;var T=X.token(W,V)}return{start:W.start,end:W.pos,string:W.current(),className:T||null,state:V}},indentation:function(){return h(this.text)},getHTML:function(af,aj,W,ah){var Z=[];if(W){Z.push(this.className?'<pre class="'+this.className+'">':"<pre>")}function ak(at,i){if(!at){return}if(i){Z.push('<span class="',i,'">',C(at),"</span>")}else{Z.push(C(at))}}var ae=this.styles,X=this.text,ad=this.marked;if(af==aj){af=null}var am=X.length;if(ah!=null){am=Math.min(ah,am)}if(!X&&ah==null){ak(" ",af!=null&&aj==null?"CodeMirror-selected":null)}else{if(!ad&&af==null){for(var al=0,aa=0;aa<am;al+=2){var ag=ae[al],ai=ag.length;if(aa+ai>am){ag=ag.slice(0,am-aa)}aa+=ai;ak(ag,"cm-"+ae[al+1])}}else{var V=0,al=0,ac="",an,aq=0;var ao=-1,Y=null;function ap(){if(ad){ao+=1;Y=(ao<ad.length)?ad[ao]:null}}ap();while(V<am){var ab=am;var ar="";if(af!=null){if(af>V){ab=af}else{if(aj==null||aj>V){ar=" CodeMirror-selected";if(aj!=null){ab=Math.min(ab,aj)}}}}while(Y&&Y.to!=null&&Y.to<=V){ap()}if(Y){if(Y.from>V){ab=Math.min(ab,Y.from)}else{ar+=" "+Y.style;if(Y.to!=null){ab=Math.min(ab,Y.to)}}}for(;;){var U=V+ac.length;var T=an;if(ar){T=an?an+ar:ar}ak(U>ab?ac.slice(0,ab-V):ac,T);if(U>=ab){ac=ac.slice(ab-V);V=ab;break}V=U;ac=ae[al++];an="cm-"+ae[al++]}}if(af!=null&&aj==null){ak(" ","CodeMirror-selected")}}}if(W){Z.push("</pre>")}return Z.join("")}};function R(Z,aa,T,ab){for(var X=0,Y=0,U=0;Y<aa;X+=2){var V=T[X],W=Y+V.length;if(U==0){if(W>Z){ab.push(V.slice(Z-Y,Math.min(V.length,aa-Y)),T[X+1])}if(W>=Z){U=1}}else{if(U==1){if(W>aa){ab.push(V.slice(0,aa-Y),T[X+1])}else{ab.push(V,T[X+1])}}}Y=W}}function g(){this.time=0;this.done=[];this.undone=[]}g.prototype={addChange:function(aa,V,T){this.undone.length=0;var Z=+new Date,X=this.done[this.done.length-1];if(Z-this.time>400||!X||X.start>aa+V||X.start+X.added<aa-X.added+X.old.length){this.done.push({start:aa,added:V,old:T})}else{var W=0;if(aa<X.start){for(var U=X.start-aa-1;U>=0;--U){X.old.unshift(T[U])}X.added+=X.start-aa;X.start=aa}else{if(X.start<aa){W=aa-X.start;V+=W}}for(var U=X.added-W,Y=T.length;U<Y;++U){X.old.push(T[U])}if(X.added<V){X.added=V}}this.time=Z}};function x(){o(this)}function A(i){if(!i.stop){i.stop=x}return i}function F(i){if(i.preventDefault){i.preventDefault()}else{i.returnValue=false}}function t(i){if(i.stopPropagation){i.stopPropagation()}else{i.cancelBubble=true}}function o(i){F(i);t(i)}function f(i){return i.target||i.srcElement}function p(i){if(i.which){return i.which}else{if(i.button&1){return 1}else{if(i.button&2){return 3}else{if(i.button&4){return 2}}}}}function v(T){if(T.pageX!=null){return T.pageX}var i=f(T).ownerDocument;return T.clientX+i.body.scrollLeft+i.documentElement.scrollLeft}function u(T){if(T.pageY!=null){return T.pageY}var i=f(T).ownerDocument;return T.clientY+i.body.scrollTop+i.documentElement.scrollTop}function l(V,U,T,i){function W(X){T(X||window.event)}if(typeof V.addEventListener=="function"){V.addEventListener(U,W,false);if(i){return function(){V.removeEventListener(U,W,false)}}}else{V.attachEvent("on"+U,W);if(i){return function(){V.detachEvent("on"+U,W)}}}}function q(){this.id=null}q.prototype={set:function(i,T){clearTimeout(this.id);this.id=setTimeout(T,i)}};var D=(function(){var i=document.createElement("pre");i.innerHTML=" ";return !i.innerHTML})();var B=/gecko\/\d{7}/i.test(navigator.userAgent);var y=/MSIE \d/.test(navigator.userAgent);var e=/Apple Computer/.test(navigator.vendor);var d="\n";(function(){var i=document.createElement("textarea");i.value="foo\nbar";if(i.value.indexOf("\r")>-1){d="\r\n"}}());var s=8;var z=/Mac/.test(navigator.platform);var N={};for(var L=35;L<=40;++L){N[L]=N["c"+L]=true}function h(U,T){if(T==null){T=U.search(/[^\s\u00a0]/);if(T==-1){T=U.length}}for(var V=0,W=0;V<T;++V){if(U.charAt(V)=="\t"){W+=s-(W%s)}else{++W}}return W}function m(i){if(i.currentStyle){return i.currentStyle}return window.getComputedStyle(i,null)}function S(V,U){var X=V.ownerDocument.body;var T=0,Z=0,i=false;for(var Y=V;Y;Y=Y.offsetParent){T+=Y.offsetLeft;Z+=Y.offsetTop;if(U&&m(Y).position=="fixed"){i=true}}var W=U&&!i?null:X;for(var Y=V.parentNode;Y!=W;Y=Y.parentNode){if(Y.scrollLeft!=null){T-=Y.scrollLeft;Z-=Y.scrollTop}}return{left:T,top:Z}}function w(i){return i.textContent||i.innerText||i.nodeValue||""}function M(T,i){return T.line==i.line&&T.ch==i.ch}function I(T,i){return T.line<i.line||(T.line==i.line&&T.ch<i.ch)}function J(i){return{line:i.line,ch:i.ch}}var P=document.createElement("div");function C(i){P.innerText=P.textContent=i;return P.innerHTML}n.htmlEscape=C;function H(W,V){if(!V){return W?W.length:0}if(!W){return V.length}for(var U=W.length,T=V.length;U>=0&&T>=0;--U,--T){if(W.charAt(U)!=V.charAt(T)){break}}return T+1}function k(W,T){if(W.indexOf){return W.indexOf(T)}for(var U=0,V=W.length;U<V;++U){if(W[U]==T){return U}}return -1}var r,O,b;if("\n\nb".split(/\n/).length!=3){r=function(U){var V=0,T,i=[];while((T=U.indexOf("\n",V))>-1){i.push(U.slice(V,U.charAt(T-1)=="\r"?T-1:T));V=T+1}i.push(U.slice(V));return i}}else{r=function(i){return i.split(/\r?\n/)}}n.splitLines=r;if(window.getSelection){O=function(T){try{return{start:T.selectionStart,end:T.selectionEnd}}catch(i){return null}};if(e){b=function(T,U,i){if(U==i){T.setSelectionRange(U,i)}else{T.setSelectionRange(U,i-1);window.getSelection().modify("extend","forward","character")}}}else{b=function(U,V,i){try{U.setSelectionRange(V,i)}catch(T){}}}}else{O=function(V){try{var Z=V.ownerDocument.selection.createRange()}catch(ab){return null}if(!Z||Z.parentElement()!=V){return null}var U=V.value,aa=U.length,ac=V.createTextRange();ac.moveToBookmark(Z.getBookmark());var X=V.createTextRange();X.collapse(false);if(ac.compareEndPoints("StartToEnd",X)>-1){return{start:aa,end:aa}}var T=-ac.moveStart("character",-aa);for(var Y=U.indexOf("\r");Y>-1&&Y<T;Y=U.indexOf("\r",Y+1),T++){}if(ac.compareEndPoints("EndToEnd",X)>-1){return{start:T,end:aa}}var W=-ac.moveEnd("character",-aa);for(var Y=U.indexOf("\r");Y>-1&&Y<W;Y=U.indexOf("\r",Y+1),W++){}return{start:T,end:W}};b=function(X,Z,U){var V=X.createTextRange();V.collapse(true);var T=V.duplicate();var W=0,i=X.value;for(var Y=i.indexOf("\n");Y>-1&&Y<Z;Y=i.indexOf("\n",Y+1)){++W}V.move("character",Z-W);for(;Y>-1&&Y<U;Y=i.indexOf("\n",Y+1)){++W}T.move("character",U-W);V.setEndPoint("EndToEnd",T);V.select()}}n.defineMode("null",function(){return{token:function(i){i.skipToEnd()}}});n.defineMIME("text/plain","null");return n})();